# Chapter 9 函数

函数是完成特定任务的独立程序代码单元

1. 函数可以做一些动作
2. 函数可以返回数值

函数原型，函数定义，调用函数

先声明在使用

函数原型的返回值类型和函数接受的参数 被称为签名signature

在主函数内部也可以，只要在调用前进行声明就可以正常执行

**局部变量**

只在函数内部有效，函数执行结束会释放内存

### 9.1.4 定义带形参的函数

void show_n_char(char ch,int num)

形参必须声明类型，普通的局部变量在代码块中声明

实际参数的个数和类型要和形参相匹配

形参的变动不会改变实参

### 9.1.9 函数类型

函数类型就是函数返回值的类型

void返回即为void类型

如果实际参数转入函数形参时类型不匹配，则会把实参的类型转换为形式参数的类型

```c
int imin(int a,int b);

printf("%d",imin(2.3,3.1)); //转换为int类型
```

`void print_name(void)`

声明时应该在()内部加void

## 9.3 递归

函数调用它自己的过程即为递归

%p可以格式化输出变量地址

### 9.3.3 尾递归

尾递归的递归处于函数的尾部

### 9.3.4递归和倒序计算

```c
void to_binary(unsigned long n)
{
    int r;

    r=n%2;
    if(n>=2)
        to_binary(n/2);
    putchar(r==0?'0':'1');
}
```

当输入5时，计算r=1则为第一位，再次调用函数to_binary(2),r=0为第二位，再次进入调用to_binary(1),r=1，为第三位

在进入函数调用过程的时候，上一层函数等待这一层函数执行完毕再返回到上一层，因此输出是反向的

### 9.3.5 递归的优缺点

递归提供最简单的解决方案，缺点是一些递归算法会快速消耗内存资源

### 9.4.5使用头文件

如果把程序的函数放进独立文件中，可以使用#define访问每个文件，把#define指令放入头文件，然后在每个源文件中使用#include指令包含该文件，

## 9.5 查找地址:&运算符

指针pointer：用于储存变量的地址

如果主函数不使用return返回的值，则必须通过地址才能修改主函数的值

### 一元&运算符

pooh变量

&pooh变量的地址

`printf("%d\n%p",pooh,&pooh);`

## 9.6改变主调函数中的变量

只能return 一个变量的值

要返回两个值，需要用到指针

## 9.7 指针简介

int*类型定义的变量类型是指针变量类型

```c
int main(void)
{
    int num=10;
    int * p=&num;//通过取地址符取到了num在内存中的地址
    /*为了能保存num的地址，使用一个变量来进行保存
    那么这个保存地址的变量类型称为指针变量类型 这种类型就是int* 
    
    */
    printf("num=%d,p=%p\n",num,p);

    return 0;
}
```

*p *是一个指针运算符,间接运算符indirection operator

*p就等价于指向的变量

`int * p=&num;`

地址大部分由无符号整数表示

但指针类型不是整数类型，是地址

指针没有办法进行指针相乘